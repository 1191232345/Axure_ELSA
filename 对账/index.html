<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ”¶å…¥æ˜ç»†</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "Microsoft Yahei", sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
        }
        
        /* æ ‡ç­¾é¡µæ ·å¼ */
        .tab {
            background-color: #007bff;
            color: #fff;
            padding: 8px 20px;
            border-top-left-radius: 6px;
            border-top-right-radius: 6px;
            display: inline-block;
            font-size: 14px;
            font-weight: 500;
            box-shadow: 0 2px 4px rgba(0,123,255,0.1);
        }
        
        /* å¯¼èˆªæ ‡ç­¾æ  */
        .nav-tabs {
            background-color: #fff;
            padding: 12px 20px;
            border-bottom: 1px solid #e1e5e9;
            overflow-x: auto;
            white-space: nowrap;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
        }
        
        .nav-tabs span {
            padding: 10px 16px;
            cursor: pointer;
            display: inline-block;
            font-size: 14px;
            color: #6c757d;
            border-radius: 4px;
            transition: all 0.3s ease;
            margin-right: 8px;
        }
        
        .nav-tabs span:hover {
            background-color: #f8f9fa;
            color: #495057;
        }
        
        .nav-tabs span.active {
            background-color: #e7f3ff;
            border-bottom: 2px solid #007bff;
            color: #007bff;
            font-weight: 500;
        }
        
        /* ç­›é€‰æ  */
        .filter-bar {
            background-color: #fff;
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            flex-wrap: wrap;
            font-size: 14px;
            border-bottom: 1px solid #e1e5e9;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
        }
        
        .filter-bar select,
        .filter-bar input {
            padding: 8px 12px;
            border: 1px solid #d1d9e0;
            border-radius: 4px;
            min-width: 140px;
            font-size: 14px;
            transition: all 0.3s ease;
            outline: none;
        }
        
        .filter-bar select:focus,
        .filter-bar input:focus {
            border-color: #007bff;
            box-shadow: 0 0 0 2px rgba(0,123,255,0.1);
        }
        
        .filter-bar button {
            padding: 8px 16px;
            border-radius: 4px;
            border: none;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s ease;
            outline: none;
        }
        
        /* æœç´¢å’Œé‡ç½®æŒ‰é’®æ ·å¼ */
        .btn-reset, .btn-search {
            padding: 10px 24px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s ease;
            outline: none;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn-reset {
            background-color: #ffffff;
            color: #6c757d;
            border: 1px solid #dee2e6;
        }
        
        .btn-reset:hover {
            background-color: #f8f9fa;
            color: #495057;
            border-color: #007bff;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        
        .btn-reset:active {
            transform: translateY(0);
        }
        
        .btn-search {
            background-color: #007bff;
            color: #ffffff;
        }
        
        .btn-search:hover {
            background-color: #0056b3;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(0,123,255,0.3);
        }
        
        .btn-search:active {
            transform: translateY(0);
        }
        
        /* æ•°æ®å¼¹çª—æœç´¢æŒ‰é’®ç»„æ ·å¼ */
        .search-buttons {
            display: flex;
            gap: 16px;
            margin-top: 24px;
            padding-top: 20px;
            border-top: 1px solid #e1e5e9;
        }
        
        /* ä»“åº“ä¸‹æ‹‰å‹¾é€‰æ¡†æ ·å¼ */
        .warehouse-dropdown-group {
            min-width: 200px;
        }
        
        .dropdown-checkbox-container {
            position: relative;
            margin-top: 4px;
        }
        
        .dropdown-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 10px;
            border: 1px solid #d1d9e0;
            border-radius: 4px;
            background-color: #ffffff;
            cursor: pointer;
            font-size: 14px;
            color: #495057;
            transition: all 0.3s ease;
            user-select: none;
        }
        
        .dropdown-header:hover {
            border-color: #007bff;
            box-shadow: 0 0 0 2px rgba(0,123,255,0.1);
        }
        
        .dropdown-arrow {
            font-size: 12px;
            transition: transform 0.2s ease;
        }
        
        .dropdown-checkbox-container.active .dropdown-arrow {
            transform: rotate(180deg);
        }
        
        .dropdown-options {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background-color: #ffffff;
            border: 1px solid #d1d9e0;
            border-radius: 4px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            max-height: 200px;
            overflow-y: auto;
            z-index: 1000;
            display: none;
            margin-top: 2px;
        }
        
        .dropdown-checkbox-container.active .dropdown-options {
            display: block;
        }
        
        .dropdown-option {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 12px;
            cursor: pointer;
            font-size: 13px;
            color: #495057;
            transition: all 0.2s ease;
            user-select: none;
        }
        
        .dropdown-option:hover {
            background-color: #f8fafc;
            color: #007bff;
        }
        
        .dropdown-option input[type="checkbox"] {
            appearance: none;
            width: 16px;
            height: 16px;
            border: 1px solid #d1d9e0;
            border-radius: 3px;
            background-color: #ffffff;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .dropdown-option input[type="checkbox"]:checked {
            background-color: #007bff;
            border-color: #007bff;
        }
        
        .dropdown-option input[type="checkbox"]:checked::after {
            content: "âœ“";
            color: white;
            font-size: 11px;
            font-weight: bold;
        }
        
        .dropdown-option input[type="checkbox"]:hover {
            border-color: #007bff;
        }
        
        .btn-expand {
            background-color: #fff;
            border: 1px solid #d1d9e0;
            color: #495057;
        }
        
        .btn-expand:hover {
            background-color: #f8f9fa;
            border-color: #007bff;
            transform: translateY(-1px);
        }
        
        /* æ“ä½œæŒ‰é’®æ  */
        .action-bar {
            background-color: #fff;
            padding: 15px 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            font-size: 14px;
            border-bottom: 1px solid #e1e5e9;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
        }
        
        .action-bar button {
            padding: 9px 16px;
            border-radius: 4px;
            border: none;
            cursor: pointer;
            margin-right: 8px;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s ease;
            outline: none;
        }
        
        .btn-batch-confirm {
            background-color: #007bff;
            color: #fff;
        }
        
        .btn-batch-confirm:hover {
            background-color: #0056b3;
            transform: translateY(-1px);
            box-shadow: 0 2px 8px rgba(0,123,255,0.25);
        }
        
        .btn-batch-delete {
            background-color: #dc3545;
            color: #fff;
        }
        
        .btn-batch-delete:hover {
            background-color: #c82333;
            transform: translateY(-1px);
            box-shadow: 0 2px 8px rgba(220,53,69,0.25);
        }
        
        .btn-import, .btn-export {
            background-color: #fd7e14;
            color: #fff;
        }
        
        .btn-import:hover, .btn-export:hover {
            background-color: #e06a00;
            transform: translateY(-1px);
            box-shadow: 0 2px 8px rgba(253,126,20,0.25);
        }
        
        .action-bar button:last-child {
            background-color: #28a745;
            color: #fff;
        }
        
        .action-bar button:last-child:hover {
            background-color: #218838;
            transform: translateY(-1px);
            box-shadow: 0 2px 8px rgba(40,167,69,0.25);
        }
        
        .total-amount {
            font-weight: 600;
            color: #212529;
            font-size: 15px;
            background-color: #f8f9fa;
            padding: 8px 15px;
            border-radius: 4px;
            border: 1px solid #e9ecef;
        }
        
        /* è¡¨æ ¼å®¹å™¨ */
        .table-container {
            width: 100%;
            overflow-x: auto;
            background-color: #fff;
            margin: 20px;
            border-radius: 6px;
            box-shadow: 0 2px 12px rgba(0,0,0,0.08);
            border: 1px solid #e1e5e9;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 14px;
        }
        
        th, td {
            border: 1px solid #e1e5e9;
            padding: 10px 12px;
            text-align: left;
            color: #495057;
        }
        
        th {
            background-color: #f8fafc;
            font-weight: 600;
            color: #212529;
            position: sticky;
            top: 0;
            z-index: 10;
            box-shadow: 0 1px 0 rgba(0,0,0,0.05);
        }
        
        tbody tr {
            transition: all 0.2s ease;
        }
        
        tbody tr:hover {
            background-color: #f8fafc;
        }
        
        tbody tr:nth-child(even) {
            background-color: #fefefe;
        }
        
        tbody tr:nth-child(odd) {
            background-color: #fcfcfc;
        }
        
        .product-detail a {
            color: #007bff;
            text-decoration: none;
            transition: color 0.3s ease;
            font-weight: 500;
        }
        
        .product-detail a:hover {
            color: #0056b3;
            text-decoration: underline;
        }
        
        .operation span {
            margin-right: 12px;
            cursor: pointer;
            color: #6c757d;
            transition: all 0.3s ease;
            font-size: 16px;
            display: inline-block;
            width: 20px;
            text-align: center;
        }
        
        .operation span:hover {
            transform: scale(1.1);
        }
        
        .operation span:first-child:hover {
            color: #28a745;
        }
        
        .operation span:nth-child(2):hover {
            color: #007bff;
        }
        
        .operation span:last-child:hover {
            color: #dc3545;
        }
        
        /* å¤é€‰æ¡†æ ·å¼ */
        input[type="checkbox"] {
            cursor: pointer;
            width: 16px;
            height: 16px;
            accent-color: #007bff;
            transition: all 0.3s ease;
        }
        
        input[type="checkbox"]:hover {
            transform: scale(1.1);
        }
        
        /* å¼¹çª—æ ·å¼ */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.5);
            backdrop-filter: blur(2px);
            transition: all 0.3s ease;
            opacity: 0;
            visibility: hidden;
        }
        
        .modal.show {
            opacity: 1;
            visibility: visible;
        }
        
        .modal-content {
            background-color: #fff;
            margin: 3% auto;
            border: none;
            width: 90%;
            max-width: 1200px;
            max-height: 90vh;
            display: flex;
            flex-direction: column;
            border-radius: 8px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.15);
            transform: translateY(-20px);
            transition: all 0.3s ease;
        }
        
        .modal.show .modal-content {
            transform: translateY(0);
        }
        
        .modal-header {
            padding: 16px 20px;
            background: #ffffff;
            color: #212529;
            border-top-left-radius: 8px;
            border-top-right-radius: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #e1e5e9;
        }
        
        .modal-header h3 {
            margin: 0;
            font-size: 18px;
            font-weight: 600;
            color: #495057;
        }
        
        .close {
            color: #6c757d;
            font-size: 24px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 28px;
            height: 28px;
            border-radius: 4px;
            background-color: transparent;
        }
        
        .close:hover,
        .close:focus {
            color: #495057;
            background-color: #f8fafc;
            transform: none;
        }
        
        .modal-body {
            padding: 20px;
            overflow-y: auto;
            flex: 1;
        }
        
        .modal-footer {
            padding: 16px 20px;
            background-color: #ffffff;
            border-top: 1px solid #e1e5e9;
            border-bottom-left-radius: 10px;
            border-bottom-right-radius: 10px;
            display: flex;
            justify-content: flex-end;
            gap: 12px;
            border-top: 1px solid #e1e5e9;
        }
        
        /* æ£€ç´¢æ¡ä»¶åŒºåŸŸæ ·å¼ */
        .search-section {
            margin-bottom: 20px;
        }
        
        .search-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }
        
        .search-header h4 {
            margin: 0;
            font-size: 15px;
            color: #212529;
            font-weight: 600;
        }
        
        .btn-toggle {
            background: none;
            border: 1px solid #d1d9e0;
            border-radius: 4px;
            width: 24px;
            height: 24px;
            cursor: pointer;
            font-size: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #6c757d;
            transition: all 0.3s ease;
        }
        
        .btn-toggle:hover {
            background-color: #f8fafc;
            border-color: #007bff;
        }
        
        .search-form {
            background-color: #ffffff;
            padding: 0;
            border-radius: 6px;
            border: none;
        }
        
        .form-row {
            display: flex;
            flex-wrap: wrap;
            gap: 16px;
            margin-bottom: 16px;
            align-items: flex-end;
        }
        
        .form-row:last-child {
            margin-bottom: 0;
        }
        
        .form-group {
            display: flex;
            flex-direction: column;
            min-width: 150px;
            flex: 1;
            max-width: 300px;
        }
        
        .form-group label {
            margin-bottom: 4px;
            font-size: 13px;
            color: #6c757d;
            font-weight: 500;
        }
        
        .form-group select,
        .form-group input {
            padding: 8px 10px;
            border: 1px solid #d1d9e0;
            border-radius: 4px;
            font-size: 14px;
            transition: all 0.3s ease;
            outline: none;
            background-color: #ffffff;
        }
        
        .form-group select:focus,
        .form-group input:focus {
            border-color: #007bff;
            box-shadow: 0 0 0 2px rgba(0,123,255,0.1);
        }
        
        /* è°ƒæ•´æœç´¢æŒ‰é’®æ ·å¼ï¼Œä½¿å…¶ä¸è¡¨å•ç»„åœ¨åŒä¸€è¡Œ */
        .visible-conditions .search-buttons {
            display: flex;
            gap: 10px;
            margin-top: 0;
            padding-top: 0;
            border-top: none;
            flex-shrink: 0;
        }
        
        /* éšè—æ¡ä»¶çš„æœç´¢æŒ‰é’®ä¿æŒåŸæ ·å¼ */
        .hidden-conditions .search-buttons {
            display: flex;
            gap: 10px;
            margin-top: 16px;
            padding-top: 12px;
            border-top: 1px solid #e1e5e9;
        }
        
        .hidden-conditions {
            display: none;
            margin-top: 16px;
            padding-top: 16px;
            border-top: 1px dashed #e9ecef;
        }
        
        .hidden-conditions.expanded {
            display: flex;
        }
        
        /* æ•°æ®åˆ—è¡¨åŒºåŸŸæ ·å¼ */
        .data-section {
            margin-top: 20px;
        }
        
        .data-section h4 {
            margin-bottom: 12px;
            font-size: 15px;
            color: #212529;
            font-weight: 600;
        }
        
        .data-table-container {
            overflow-x: auto;
            border: 1px solid #e1e5e9;
            border-radius: 6px;
            margin-bottom: 16px;
            box-shadow: none;
        }
        
        #modalDataTable {
            min-width: 800px;
            border-collapse: collapse;
            width: 100%;
        }
        
        #modalDataTable th,
        #modalDataTable td {
            padding: 10px 12px;
            font-size: 13px;
            text-align: left;
            border-bottom: 1px solid #e9ecef;
        }
        
        #modalDataTable th {
            background-color: #f8fafc;
            font-weight: 600;
            color: #495057;
            border-top: 1px solid #e1e5e9;
        }
        
        #modalDataTable tr:hover {
            background-color: #f8fafc;
        }
        
        #modalDataTable tbody tr:hover {
            background-color: #f8fafc;
        }
        
        /* åˆ†é¡µæ ·å¼ */
        .pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin-top: 20px;
        }
        
        .page-btn {
            padding: 8px 16px;
            border: 1px solid #d1d9e0;
            background-color: #fff;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s ease;
            outline: none;
        }
        
        .page-btn:hover {
            background-color: #007bff;
            color: white;
            border-color: #007bff;
            transform: translateY(-1px);
        }
        
        .page-btn:disabled {
            background-color: #e9ecef;
            color: #6c757d;
            cursor: not-allowed;
            transform: none;
        }
        
        .page-info {
            font-size: 14px;
            color: #495057;
            font-weight: 500;
        }
        
        /* æŒ‰é’®æ ·å¼ */
        .btn-cancel {
            padding: 10px 20px;
            border: 1px solid #d1d9e0;
            background-color: #fff;
            color: #495057;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s ease;
            outline: none;
        }
        
        .btn-cancel:hover {
            background-color: #f8f9fa;
            border-color: #007bff;
            transform: translateY(-1px);
        }
        
        .btn-save {
            padding: 10px 20px;
            border: none;
            background-color: #28a745;
            color: white;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s ease;
            outline: none;
        }
        
        .btn-save:hover {
            background-color: #218838;
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(40,167,69,0.25);
        }
        
        /* æ»šåŠ¨æ¡æ ·å¼ */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #c1c1c1;
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #a8a8a8;
        }
        
        /* åŠ¨ç”»æ•ˆæœ */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        tbody tr {
            animation: fadeIn 0.3s ease;
        }
    </style>
</head>
<body>
    <!-- æ ‡ç­¾é¡µ -->
    <div class="tab">æ”¶å…¥æ˜ç»† Ã—</div>

    <!-- å¯¼èˆªæ ‡ç­¾æ  -->
    <div class="nav-tabs">
        <span class="active">å‡ºåº“+å¿«é€’(YC)</span>
        <span>å‡ºåº“+å¿«é€’(TMS)</span>
        <span>æ“ä½œè´¹</span>
        <span>å¸è´§è´¹</span>
        <span>ä»“å‚¨è´¹</span>
        <span>é€€è´§è¿è´¹</span>
        <span>é€€è´§å¤„ç†è´¹</span>
        <span>é”€æ¯è´¹</span>
        <span>å¿«é€’è´¹</span>
        <span>è½¬ä»“è´¹</span>
        <span>å¿«é€’è¡¥æ”¶(YC)</span>
        <span>å¿«é€’è¡¥æ”¶(TMS)</span>
        <span>MTWè¿è¾“è´¹</span>
        <span>å¿«é€’èµ”ä»˜</span>
        <span>åˆå¹¶è®¢å•è´¹</span>
        <span>æœªä¸Šç½‘è¿”é€€</span>
        <span>åº“å†…èµ”ä»˜(é”™å‘)</span>
        <span>åº“å†…èµ”ä»˜(ä¸¢ä»¶)</span>
        <span>åº“å†…æœ</span>
    </div>

    <!-- ç­›é€‰æ  -->
    <div class="filter-bar">
        <label>å®¢æˆ·ä»£ç </label>
        <select>
            <option>è¯·é€‰æ‹©å®¢æˆ·ä»£ç </option>
        </select>
        <label>å®¢æœ</label>
        <select>
            <option>è¯·é€‰æ‹©å®¢æœ</option>
        </select>
        <label>ä»“åº“</label>
        <select>
            <option>è¯·é€‰æ‹©ä»“åº“</option>
        </select>
        <label>çŠ¶æ€</label>
        <select>
            <option>è¯·é€‰æ‹©çŠ¶æ€</option>
        </select>
        <button class="btn-reset">é‡ç½®</button>
        <button class="btn-search">æœç´¢</button>
        <button class="btn-expand">å±•å¼€ â–¾</button>
    </div>

    <!-- æ“ä½œæŒ‰é’®æ  -->
    <div class="action-bar">
        <div>
            <button class="btn-batch-confirm">æ‰¹é‡ç¡®è®¤</button>
            <button class="btn-batch-delete">æ‰¹é‡åˆ é™¤</button>
            <button class="btn-import">å¯¼å…¥</button>
            <button class="btn-export">å¯¼å‡º</button>
            <button>è·å–æ•°æ®</button>
        </div>
        <div class="total-amount">æ€»é‡‘é¢: 3886.654</div>
    </div>

    <!-- æ•°æ®è¡¨æ ¼ -->
    <div class="table-container">
        <table id="mainTable">
            <thead>
                <tr>
                    <th><input type="checkbox" id="mainTableCheckAll"></th>
                    <th>çŠ¶æ€</th>
                    <th>è´¦å•æœˆ</th>
                    <th>èˆªæœŸ</th>
                    <th>åˆ›å»ºæ—¶é—´</th>
                    <th>ä»“åº“</th>
                    <th>å®¢æˆ·ä»£ç </th>
                    <th>å®¢æœ</th>
                    <th>å‚è€ƒå·</th>
                    <th>è®¢å•å·</th>
                    <th>å¿«é€’å•å·</th>
                    <th>è¿è¾“æ–¹å¼</th>
                    <th>ä¸‹å•æ—¶é—´</th>
                    <th>å‡ºè´§æ—¶é—´</th>
                    <th>å‡ºåº“è´¹åˆ</th>
                    <th>å¿«é€’è´¹åˆ</th>
                    <th>åˆè®¡</th>
                    <th>å¸ç§</th>
                    <th>äº§å“è¯¦æƒ…</th>
                    <th>æ“ä½œ</th>
                </tr>
            </thead>
            <tbody id="mainTableBody">
                <tr>
                    <td><input type="checkbox"></td>
                    <td>è‰ç¨¿</td>
                    <td>2025-11</td>
                    <td>2025-11</td>
                    <td>2025-12-01 13:34:12</td>
                    <td>CA008</td>
                    <td>ZJJS</td>
                    <td>é’Ÿè·èŠ±</td>
                    <td>8876065...</td>
                    <td>ZJJS-20...</td>
                    <td>3949886...</td>
                    <td>FEDEX...</td>
                    <td>2025-11...</td>
                    <td>2025-11...</td>
                    <td>2</td>
                    <td>42.108</td>
                    <td>44.108</td>
                    <td>USD</td>
                    <td class="product-detail"><a href="#">æŸ¥çœ‹</a></td>
                    <td class="operation">
                        <span>ç¡®å®š</span>
                        <span>ç¼–è¾‘</span>
                        <span>åˆ é™¤</span>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- æ•°æ®å¼¹çª— -->
    <div id="dataModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>è·å–æ•°æ®</h3>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <!-- æ£€ç´¢æ¡ä»¶åŒºåŸŸ -->
                <div class="search-section">
                    <div class="search-header">
                        <h4>æ£€ç´¢æ¡ä»¶</h4>
                        <button class="btn-toggle" id="toggleSearch" onclick="toggleSearchConditions()">â–¼</button>
                    </div>
                    <div class="search-form">
                        <div class="form-row visible-conditions">
                            <div class="form-group">
                                <label>å®¢æˆ·ä»£ç </label>
                                <select id="modalCustomerCode">
                                    <option>è¯·é€‰æ‹©å®¢æˆ·ä»£ç </option>
                                    <option>ZJJS</option>
                                    <option>ZJHW</option>
                                    <option>ZJWL</option>
                                </select>
                            </div>
                            <div class="form-group warehouse-dropdown-group">
                                <label>ä»“åº“</label>
                                <div class="dropdown-checkbox-container">
                                    <div class="dropdown-header" onclick="toggleWarehouseDropdown()">
                                        <span class="dropdown-text">è¯·é€‰æ‹©ä»“åº“</span>
                                        <span class="dropdown-arrow">â–¼</span>
                                    </div>
                                    <div class="dropdown-options" id="warehouseOptions">
                                        <label class="dropdown-option">
                                            <input type="checkbox" name="warehouse" value="CA008" onchange="updateWarehouseDropdownText()">
                                            <span>CA008</span>
                                        </label>
                                        <label class="dropdown-option">
                                            <input type="checkbox" name="warehouse" value="CA009" onchange="updateWarehouseDropdownText()">
                                            <span>CA009</span>
                                        </label>
                                        <label class="dropdown-option">
                                            <input type="checkbox" name="warehouse" value="CA010" onchange="updateWarehouseDropdownText()">
                                            <span>CA010</span>
                                        </label>
                                        <label class="dropdown-option">
                                            <input type="checkbox" name="warehouse" value="CA011" onchange="updateWarehouseDropdownText()">
                                            <span>CA011</span>
                                        </label>
                                        <label class="dropdown-option">
                                            <input type="checkbox" name="warehouse" value="CA012" onchange="updateWarehouseDropdownText()">
                                            <span>CA012</span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label>å‡ºè´¦æ—¶é—´</label>
                                <div style="display: flex; gap: 8px; align-items: center;">
                                    <input type="date" id="modalBillStartDate" placeholder="å¼€å§‹æ—¥æœŸ" style="flex: 1;">
                                    <span style="color: #6c757d; font-weight: 500;">è‡³</span>
                                    <input type="date" id="modalBillEndDate" placeholder="ç»“æŸæ—¥æœŸ" style="flex: 1;">
                                </div>
                            </div>
                            <div class="search-buttons">
                                <button class="btn-reset" id="modalReset">é‡ç½®</button>
                                <button class="btn-search" id="modalSearch">æœç´¢</button>
                            </div>
                        </div>
                        <div class="form-row hidden-conditions" id="hiddenSearchConditions">
                            <div class="form-group">
                                <label>åˆ›å»ºæ—¶é—´</label>
                                <div style="display: flex; gap: 8px; align-items: center;">
                                    <input type="date" id="modalCreateStartDate" placeholder="å¼€å§‹æ—¥æœŸ" style="flex: 1;">
                                    <span style="color: #6c757d; font-weight: 500;">è‡³</span>
                                    <input type="date" id="modalCreateEndDate" placeholder="ç»“æŸæ—¥æœŸ" style="flex: 1;">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- æ•°æ®åˆ—è¡¨åŒºåŸŸ -->
                <div class="data-section">
                    <h4>æ•°æ®åˆ—è¡¨</h4>
                    <div class="data-table-container">
                        <table id="modalDataTable">
                            <thead>
                                <tr>
                                    <th><input type="checkbox" id="modalCheckAll"></th>
                                    <th>å®¢æˆ·ä»£ç </th>
                                    <th>ä»“åº“</th>
                                    <th>è´¦å•ç±»å‹</th>
                                    <th>è®¢å•å·</th>
                                    <th>è®¡è´¹é‡‘é¢</th>
                                    <th>è´§å¸ç±»å‹</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><input type="checkbox"></td>
                                    <td>DEMO-demo</td>
                                    <td>DEMO</td>
                                    <td>å‡ºåº“å•</td>
                                    <td>
                                        <div>å‡ºåº“å•å·: OUT-20231201-001</div>
                                        <div>å‚è€ƒå•å·: REF-20231201-001</div>
                                        <div>è·Ÿè¸ªå·: TRK-20231201-001</div>
                                    </td>
                                    <td>4</td>
                                    <td>USD</td>
                                </tr>
                                <tr>
                                    <td><input type="checkbox"></td>
                                    <td>DEMO-demo</td>
                                    <td>DEMO</td>
                                    <td>å‡ºåº“å•</td>
                                    <td>
                                        <div>å‡ºåº“å•å·: OUT-20231201-002</div>
                                        <div>å‚è€ƒå•å·: REF-20231201-002</div>
                                        <div>è·Ÿè¸ªå·: TRK-20231201-002</div>
                                    </td>
                                    <td>10</td>
                                    <td>USD</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-cancel" id="modalCancel">å…³é—­</button>
                <button class="btn-save" id="modalSave">ç”Ÿæˆè´¦å•</button>
            </div>
        </div>
    </div>

    <script>
        // å¼¹çª—é€»è¾‘
        const modal = document.getElementById('dataModal');
        const btn = document.querySelector('.action-bar button:last-child'); // è·å–æ•°æ®æŒ‰é’®
        const span = document.querySelector('.close');
        const modalSave = document.getElementById('modalSave');
        const modalCancel = document.getElementById('modalCancel');
        const modalCheckAll = document.getElementById('modalCheckAll');
        const modalDataChecks = document.querySelectorAll('.modalDataCheck');
        const mainTableBody = document.getElementById('mainTableBody');
        const mainTableCheckAll = document.getElementById('mainTableCheckAll');
        const modalReset = document.getElementById('modalReset');
        const modalSearch = document.getElementById('modalSearch');

        // æ‰“å¼€å¼¹çª—
        btn.onclick = function() {
            modal.style.display = 'block';
            setTimeout(() => modal.classList.add('show'), 10);
        }

        // å…³é—­å¼¹çª—å‡½æ•°
        function closeModal() {
            modal.classList.remove('show');
            setTimeout(() => modal.style.display = 'none', 300);
        }

        // å…³é—­å¼¹çª—
        span.onclick = function() {
            closeModal();
        }

        modalCancel.onclick = function() {
            closeModal();
        }

        // ç‚¹å‡»å¼¹çª—å¤–éƒ¨å…³é—­å¼¹çª—
        window.onclick = function(event) {
            if (event.target == modal) {
                closeModal();
            }
        }

        // å…¨é€‰/å–æ¶ˆå…¨é€‰
        modalCheckAll.onchange = function() {
            const isChecked = this.checked;
            document.querySelectorAll('.modalDataCheck').forEach(checkbox => {
                checkbox.checked = isChecked;
            });
        }

        // å•ä¸ªå¤é€‰æ¡†å˜åŒ–æ—¶æ›´æ–°å…¨é€‰çŠ¶æ€
        document.addEventListener('change', function(e) {
            if (e.target.classList.contains('modalDataCheck')) {
                const allChecked = document.querySelectorAll('.modalDataCheck').length === 
                                   document.querySelectorAll('.modalDataCheck:checked').length;
                modalCheckAll.checked = allChecked;
            }
        });

        // ä¸»è¡¨å…¨é€‰/å–æ¶ˆå…¨é€‰
        mainTableCheckAll.onchange = function() {
            const isChecked = this.checked;
            mainTableBody.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
                checkbox.checked = isChecked;
            });
        }

        // ä¿å­˜é€‰ä¸­çš„æ•°æ®åˆ°ä¸»è¡¨
        modalSave.onclick = function() {
            const checkedRows = document.querySelectorAll('.modalDataCheck:checked');
            if (checkedRows.length === 0) {
                alert('è¯·è‡³å°‘é€‰æ‹©ä¸€æ¡æ•°æ®');
                return;
            }

            // éå†é€‰ä¸­çš„è¡Œï¼Œæ·»åŠ åˆ°ä¸»è¡¨
            checkedRows.forEach(checkbox => {
                const row = checkbox.closest('tr');
                const cells = row.querySelectorAll('td');
                
                // åˆ›å»ºä¸»è¡¨è¡Œ
                const newRow = document.createElement('tr');
                
                // å¤é€‰æ¡†
                newRow.innerHTML += `<td><input type="checkbox"></td>`;
                
                // çŠ¶æ€
                newRow.innerHTML += `<td>${cells[1].textContent}</td>`;
                
                // è´¦å•æœˆ
                newRow.innerHTML += `<td>${cells[2].textContent}</td>`;
                
                // èˆªæœŸ
                newRow.innerHTML += `<td>${cells[3].textContent}</td>`;
                
                // åˆ›å»ºæ—¶é—´
                newRow.innerHTML += `<td>${cells[4].textContent}</td>`;
                
                // ä»“åº“
                newRow.innerHTML += `<td>${cells[5].textContent}</td>`;
                
                // å®¢æˆ·ä»£ç 
                newRow.innerHTML += `<td>${cells[6].textContent}</td>`;
                
                // å®¢æœ
                newRow.innerHTML += `<td>${cells[7].textContent}</td>`;
                
                // å‚è€ƒå·
                newRow.innerHTML += `<td>${cells[8].textContent}</td>`;
                
                // è®¢å•å·
                newRow.innerHTML += `<td>${cells[9].textContent}</td>`;
                
                // å¿«é€’å•å·
                newRow.innerHTML += `<td>${cells[10].textContent}</td>`;
                
                // è¿è¾“æ–¹å¼
                newRow.innerHTML += `<td>${cells[11].textContent}</td>`;
                
                // ä¸‹å•æ—¶é—´
                newRow.innerHTML += `<td>2025-11-01</td>`;
                
                // å‡ºè´§æ—¶é—´
                newRow.innerHTML += `<td>2025-11-02</td>`;
                
                // å‡ºåº“è´¹åˆ
                newRow.innerHTML += `<td>5</td>`;
                
                // å¿«é€’è´¹åˆ
                newRow.innerHTML += `<td>${parseFloat(cells[12].textContent) - 5}</td>`;
                
                // åˆè®¡
                newRow.innerHTML += `<td>${cells[12].textContent}</td>`;
                
                // å¸ç§
                newRow.innerHTML += `<td>${cells[13].textContent}</td>`;
                
                // äº§å“è¯¦æƒ…
                newRow.innerHTML += `<td class="product-detail"><a href="#">æŸ¥çœ‹</a></td>`;
                
                // æ“ä½œ
                newRow.innerHTML += `<td class="operation">
                    <span>ç¡®è®¤</span>
                    <span>ç¼–è¾‘</span>
                    <span>åˆ é™¤</span>
                </td>`;
                
                // æ·»åŠ åˆ°ä¸»è¡¨
                mainTableBody.appendChild(newRow);
            });

            // å…³é—­å¼¹çª—
            closeModal();
            alert('æ•°æ®å·²æˆåŠŸæ·»åŠ åˆ°ä¸»è¡¨');
        }

        // ä»“åº“ä¸‹æ‹‰å‹¾é€‰æ¡†åŠŸèƒ½
        // åˆ‡æ¢ä¸‹æ‹‰èœå•
        function toggleWarehouseDropdown() {
            const dropdownContainer = document.querySelector('.dropdown-checkbox-container');
            dropdownContainer.classList.toggle('active');
        }
        
        // æ›´æ–°ä¸‹æ‹‰æ–‡æœ¬
        function updateWarehouseDropdownText() {
            const dropdownText = document.getElementById('warehouseDropdownText');
            const selectedCheckboxes = document.querySelectorAll('.dropdown-options input[type="checkbox"]:checked');
            const selectedValues = Array.from(selectedCheckboxes).map(checkbox => checkbox.value);
            
            if (selectedValues.length === 0) {
                dropdownText.textContent = 'è¯·é€‰æ‹©ä»“åº“';
            } else if (selectedValues.length === 1) {
                dropdownText.textContent = selectedValues[0];
            } else {
                dropdownText.textContent = `${selectedValues.length}ä¸ªä»“åº“`;
            }
        }
        
        // ç‚¹å‡»å¤–éƒ¨å…³é—­ä¸‹æ‹‰èœå•
        document.addEventListener('click', function(event) {
            const dropdownContainer = document.querySelector('.dropdown-checkbox-container');
            const dropdownHeader = document.querySelector('.dropdown-header');
            
            if (dropdownContainer && !dropdownContainer.contains(event.target)) {
                dropdownContainer.classList.remove('active');
            }
        });
        
        // æ£€ç´¢æ¡ä»¶æŠ˜å /å±•å¼€åŠŸèƒ½
        function toggleSearchConditions() {
            const hiddenConditions = document.getElementById('hiddenSearchConditions');
            const toggleBtn = document.getElementById('toggleSearch');
            
            if (hiddenConditions.classList.contains('expanded')) {
                hiddenConditions.classList.remove('expanded');
                toggleBtn.textContent = 'â–¼';
            } else {
                hiddenConditions.classList.add('expanded');
                toggleBtn.textContent = 'â–²';
            }
        }
        
        // é‡ç½®æ£€ç´¢æ¡ä»¶
        modalReset.onclick = function() {
            // é‡ç½®å®¢æˆ·ä»£ç 
            document.getElementById('modalCustomerCode').value = 'è¯·é€‰æ‹©å®¢æˆ·ä»£ç ';
            // é‡ç½®æ—¥æœŸæ®µ
            document.getElementById('modalStartDate').value = '';
            document.getElementById('modalEndDate').value = '';
            // é‡ç½®ä»“åº“å¤é€‰æ¡†
            document.querySelectorAll('input[name="warehouse"]').forEach(checkbox => {
                checkbox.checked = false;
            });
            updateWarehouseDropdownText();
        }

        // æœç´¢åŠŸèƒ½
        modalSearch.onclick = function() {
            // è·å–æœç´¢æ¡ä»¶
            const customerCode = document.getElementById('modalCustomerCode').value;
            const startDate = document.getElementById('modalStartDate').value;
            const endDate = document.getElementById('modalEndDate').value;
            const selectedWarehouses = Array.from(document.querySelectorAll('input[name="warehouse"]:checked')).map(checkbox => checkbox.value);
            
            // æ„å»ºæœç´¢æ¡ä»¶å­—ç¬¦ä¸²
            let searchConditions = [];
            if (customerCode !== 'è¯·é€‰æ‹©å®¢æˆ·ä»£ç ') {
                searchConditions.push(`å®¢æˆ·ä»£ç : ${customerCode}`);
            }
            if (startDate && endDate) {
                searchConditions.push(`åˆ›å»ºæ—¥æœŸ: ${startDate} è‡³ ${endDate}`);
            } else if (startDate) {
                searchConditions.push(`åˆ›å»ºæ—¥æœŸ: ä» ${startDate}`);
            } else if (endDate) {
                searchConditions.push(`åˆ›å»ºæ—¥æœŸ: è‡³ ${endDate}`);
            }
            if (selectedWarehouses.length > 0) {
                searchConditions.push(`ä»“åº“: ${selectedWarehouses.join(', ')}`);
            }
            
            // æ˜¾ç¤ºæœç´¢æ¡ä»¶
            let message = 'æœç´¢æ¡ä»¶ï¼š\n';
            if (searchConditions.length > 0) {
                message += searchConditions.join('\n');
            } else {
                message += 'æ— ç­›é€‰æ¡ä»¶ï¼ˆå…¨éƒ¨æ•°æ®ï¼‰';
            }
            
            message += '\n\nå®é™…é¡¹ç›®ä¸­ä¼šæ ¹æ®ä»¥ä¸Šæ¡ä»¶æŸ¥è¯¢æ•°æ®å¹¶æ›´æ–°è¡¨æ ¼';
            alert(message);
            
            // å®é™…é¡¹ç›®ä¸­è¿™é‡Œä¼šå‘é€AJAXè¯·æ±‚è·å–æ•°æ®å¹¶æ›´æ–°è¡¨æ ¼
        }

        // æ‰¹é‡åˆ é™¤é€»è¾‘
        const batchDeleteBtn = document.querySelector('.btn-batch-delete');
        
        batchDeleteBtn.onclick = function() {
            const mainTableRows = mainTableBody.querySelectorAll('tr');
            const checkedCheckboxes = mainTableBody.querySelectorAll('input[type="checkbox"]:checked');
            
            if (mainTableRows.length === 0) {
                alert('æ²¡æœ‰æ•°æ®å¯åˆ é™¤');
                return;
            }
            
            let confirmMessage;
            let rowsToDelete;
            
            if (checkedCheckboxes.length > 0) {
                // æœ‰å‹¾é€‰æ•°æ®ï¼Œåªåˆ é™¤å‹¾é€‰çš„
                confirmMessage = `ç¡®å®šè¦åˆ é™¤é€‰ä¸­çš„ ${checkedCheckboxes.length} æ¡æ•°æ®å—ï¼Ÿ`;
                rowsToDelete = Array.from(checkedCheckboxes).map(checkbox => checkbox.closest('tr'));
            } else {
                // æ²¡æœ‰å‹¾é€‰æ•°æ®ï¼Œåˆ é™¤æ‰€æœ‰
                confirmMessage = 'ç¡®å®šè¦åˆ é™¤æ‰€æœ‰æ•°æ®å—ï¼Ÿ';
                rowsToDelete = Array.from(mainTableRows);
            }
            
            if (confirm(confirmMessage)) {
                // åˆ é™¤é€‰ä¸­çš„è¡Œ
                rowsToDelete.forEach(row => {
                    row.remove();
                });
                
                // é‡ç½®å…¨é€‰çŠ¶æ€
                mainTableCheckAll.checked = false;
                
                alert(`æˆåŠŸåˆ é™¤ ${rowsToDelete.length} æ¡æ•°æ®`);
            }
        };
        
        // å•ä¸ªåˆ é™¤é€»è¾‘
        mainTableBody.onclick = function(e) {
            if (e.target.textContent === 'ğŸ—‘ï¸') {
                const row = e.target.closest('tr');
                if (confirm('ç¡®å®šè¦åˆ é™¤è¿™æ¡æ•°æ®å—ï¼Ÿ')) {
                    row.remove();
                    
                    // é‡ç½®å…¨é€‰çŠ¶æ€
                    mainTableCheckAll.checked = false;
                    
                    alert('æ•°æ®å·²åˆ é™¤');
                }
            }
        };
        
        // æ¨¡æ‹Ÿåˆ†é¡µåŠŸèƒ½
        let currentPage = 1;
        const totalPages = 2;
        
        document.getElementById('prevPage').onclick = function() {
            if (currentPage > 1) {
                currentPage--;
                document.getElementById('currentPage').textContent = currentPage;
                // å®é™…é¡¹ç›®ä¸­è¿™é‡Œä¼šåŠ è½½ä¸Šä¸€é¡µæ•°æ®
            }
        };
        
        document.getElementById('nextPage').onclick = function() {
            if (currentPage < totalPages) {
                currentPage++;
                document.getElementById('currentPage').textContent = currentPage;
                // å®é™…é¡¹ç›®ä¸­è¿™é‡Œä¼šåŠ è½½ä¸‹ä¸€é¡µæ•°æ®
            }
        };
    </script>
</body>
</html>